
How to use the UDF
------------------

1) Load the UDF by issuing the following SQL function

CREATE FUNCTION create_ops_server returns integer soname 'edb.so';

2) Call the UDF for some arguments
SELECT create_ops_server('/tmp', '1888', 'goodbye');

In this case, this executes the exampleserver, which prints out the arguments in receives in /tmp/mylogfile.
You can give more arguments to this SQL command as well as to the UDF in edb.cc and to your server, by following the comments I had in create_ops_server in edb.cc

3) Make sure:
 -- whenever you change the udf code, install it, drop the UDF from mysql and reload mysql
 -- keep AppArmor's profiles off, otherwise it will not allow you to run code in the UDF

In a nutshell:

make ; sudo make install ; mysql -u root -pletmein -e "use mysql; drop function create_ops_server;" ; sudo service mysql restart; sudo /etc/init.d/apparmor teardown

4) How to debug:
-- The udf is writing error messages to cerr; these will be sent to the error file of the mysql server; therefore you need to turn on error logging in the mysql server in my.cnf (in my case in: /etc/mysql/my.cnf). Set the following as below and the output will be in /var/log/mysql/error.log

log
log_error                = /var/log/mysql/error.log
