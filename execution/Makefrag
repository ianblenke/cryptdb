OBJDIRS	+= execution

EXECSRC := operator_types.cc tuple.cc

EXECPARSER_OBJS	:= $(patsubst %.cc,$(OBJDIR)/execution/%.o,$(EXECSRC))
$(OBJDIR)/libexecution.so: $(EXECPARSER_OBJS) $(OBJDIR)/libedbutil.so $(OBJDIR)/libedbcrypto.so \
				$(OBJDIR)/libedbcrypto2.so $(OBJDIR)/libedbparser.so 
	$(CXX) -shared -o $@ $(EXECPARSER_OBJS) \
	       -Wl,--whole-archive -L$(MYBUILD)/libmysqld -lmysqld \
	       -Wl,--no-whole-archive $(LDFLAGS) -ledbutil -ledbcrypto -ledbcrypto2 -ledbparser

all: $(OBJDIR)/libexecution.so
